{
  "id": "parry",
  "name": "Weapon Parry",
  "description": "Deflect an incoming attack with your weapon. Requires precise timing but opens opportunity for counter-attack.",
  "type": "defense",
  "school": "none",
  "phases": {
    "windUp": {
      "duration": 500,
      "canCancel": true,
      "canFeint": false,
      "description": "Positioning weapon to intercept incoming attack"
    },
    "readinessWindow": {
      "startTick": 500,
      "baseDuration": 400,
      "description": "Window where parry is active and can deflect attacks",
      "staminaModifiers": {
        "narrow": {
          "staminaCostMod": -1,
          "durationMod": -200,
          "description": "Precise parry with narrow window (200ms). Lower stamina cost but requires perfect timing."
        },
        "base": {
          "staminaCostMod": 0,
          "durationMod": 0,
          "description": "Standard parry window (400ms). Balanced stamina cost and timing requirement."
        },
        "wide": {
          "staminaCostMod": 1,
          "durationMod": 200,
          "description": "Extended parry window (600ms). Higher stamina cost but easier to time."
        }
      }
    },
    "recovery": {
      "duration": 500,
      "description": "Resetting guard position after parry"
    }
  },
  "costs": {
    "stamina": {
      "base": 1,
      "onSuccessfulParry": {
        "additional": 0.25,
        "calculatedFrom": "attackerStaminaSpent",
        "description": "Costs an additional 25% of the stamina the attacker spent on their attack"
      }
    },
    "mp": 0,
    "focus": 1,
    "dailyFatigue": 1
  },
  "defensiveProperties": {
    "defenseType": "deflection",
    "damageReduction": 1.0,
    "description": "Completely negates damage if parry is active during attacker's Impact tick",
    "onSuccess": {
      "enablesCounter": true,
      "counterWindow": 200,
      "extendsAttackerRecovery": {
        "duration": 200,
        "description": "Successful parry extends attacker's recovery by 200ms, creating counter opportunity"
      }
    },
    "onFailure": {
      "takesFullDamage": true,
      "description": "If parry window doesn't overlap with Impact, defender takes full damage"
    }
  },
  "requirements": {
    "weaponRequired": true,
    "mustPredictAttack": true,
    "timingCritical": true
  },
  "metadata": {
    "weaponTypes": ["sword", "axe", "dagger", "spear"],
    "tags": ["defense", "melee", "timing", "counter-enable"],
    "learningDifficulty": "medium",
    "notes": "Core defensive skill. Mastering parry timing is essential for survival. Use wide window when uncertain, narrow window to conserve stamina when confident."
  }
}
